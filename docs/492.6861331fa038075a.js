"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[492],{1492:(Me,nt,l)=>{l.r(nt),l.d(nt,{FieldModule:()=>Ae});var yt=l(9298),w=l(4218),j=l(8744);class H{constructor(a,e,i){this.actor=a,this.context=e,this.fieldPositions=i||new Map}toDto(){return{f:[...this.fieldPositions.entries()]}}draw(){this.drawShape(),this.drawPosition(),this.drawActorName()}setPosition(a,e){this.fieldPositions.set(this._rotationUUID,{x_percent:Math.max(0,Math.min(a/this.context.canvas.width,1)),y_percent:Math.max(0,Math.min(e/this.context.canvas.height,1))})}getFieldPosition(){return this.fieldPositions.get(this._rotationUUID)}setRotationProperties(a,e){const i=this._rotationUUID;if(this._rotationUUID=a,this.rotationOffset=e,0===this.fieldPositions.size)this.setPosition(this.context.canvas.width/2,this.context.canvas.height/2);else if(!this.fieldPositions.has(a)){const o=this.fieldPositions.get(i);this.setPosition(this.context.canvas.width*o.x_percent,this.context.canvas.height*o.y_percent)}}removeRotation(a){this.fieldPositions.delete(a)}get x(){return this.context.canvas.width*this.getFieldPosition().x_percent}get y(){return this.context.canvas.height*this.getFieldPosition().y_percent}currentPosition(){return this.actor.position.rotate(this.rotationOffset)}}let P=(()=>{class n extends H{constructor(e,i,o,r){super(e,i,r),this.dashed=o}get radius(){return Math.min(Math.max(this.context.canvas.width,this.context.canvas.height)*n.RELATIVE_RADIUS,n.RADIUS_MAX)}drawShape(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="red",this.context.fill(),this.context.lineWidth=3,this.context.strokeStyle="#003300",this.context.setLineDash(this.dashed?[6]:[]),this.context.stroke()}drawPosition(){this.context.font="40px Roboto",this.context.fillStyle="#000000",this.context.textAlign="center",this.context.fillText(this.currentPosition().value.toString(),this.x,this.y+12)}drawActorName(){!this.actor.player_name||(this.context.font="20px Roboto",this.context.fillStyle="#000000",this.context.textAlign="center",this.context.fillText(this.actor.player_name,this.x,this.y+1.5*this.radius))}isHit(e,i){return e>=this.x-this.radius&&e<=this.x+this.radius&&i>=this.y-this.radius&&i<=this.y+this.radius}}return n.RELATIVE_RADIUS=.048,n.RADIUS_MAX=40,n})();var f=(()=>{return(n=f||(f={})).Setter="Setter",n.MiddleBlocker="Middle blocker",n.Libero="Libero",n.OutsideHitter="Outside hitter",n.OppositeHitter="Opposite hitter",f;var n})(),c=l(3075);class A{constructor(a){if(a<1||a>6)throw new Error("Player position must be between 1 and 6.");this._position=a}get value(){return this._position}rotate(a){let i=this._position+(a._position-1);return i>6&&(i-=6),new A(i)}}function ot(){return Math.random().toString(36).substring(2,7)}let at=(()=>{class n extends H{constructor(e,i,o){super(e,i,o)}get radius(){return Math.min(Math.max(this.context.canvas.width,this.context.canvas.height)*n.RELATIVE_RADIUS,n.RADIUS_MAX)}drawShape(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,Math.PI,!0),this.context.fillStyle="red",this.context.fill(),this.context.setLineDash([]),this.context.closePath(),this.context.lineWidth=3,this.context.strokeStyle="#003300",this.context.stroke()}drawPosition(){this.context.font="40px Roboto",this.context.fillStyle="#000000",this.context.textAlign="center",this.context.fillText(this.currentPosition().value.toString(),this.x,this.y-10)}drawActorName(){!this.actor.player_name||(this.context.font="20px Roboto",this.context.fillStyle="#000000",this.context.textAlign="center",this.context.fillText(this.actor.player_name,this.x,this.y+this.radius/2))}isHit(e,i){return e>=this.x-this.radius&&e<=this.x+this.radius&&i>=this.y-this.radius&&i<=this.y}}return n.RELATIVE_RADIUS=.0576,n.RADIUS_MAX=50,n})(),q=(()=>{class n extends H{constructor(e,i,o,r){super(e,i,r),this.dashed=o}get size(){return Math.min(Math.max(this.context.canvas.width,this.context.canvas.height)*n.RELATIVE_SIZE,n.SIZE_MAX)}drawActorName(){!this.actor.player_name||(this.context.font="20px Roboto",this.context.fillStyle="#000000",this.context.textAlign="center",this.context.fillText(this.actor.player_name,this.x,this.y+1.6*this.size))}drawPosition(){this.context.font="40px Roboto",this.context.fillStyle="#000000",this.context.textAlign="center",this.context.fillText(this.currentPosition().value.toString(),this.x-2,this.y+25)}drawShape(){this.context.beginPath(),this.context.lineWidth=4,this.context.strokeStyle="#003300",this.context.setLineDash(this.dashed?[6]:[]),this.context.moveTo(this.x-this.size,this.y+this.size),this.context.lineTo(this.x+this.size,this.y+this.size),this.context.lineTo(this.x,this.y-this.size),this.context.closePath(),this.context.stroke(),this.context.fillStyle="red",this.context.fill()}isHit(e,i){return e>=this.x-this.size&&e<=this.x+this.size&&i>=this.y-this.size&&i<=this.y+this.size}}return n.RELATIVE_SIZE=.04,n.SIZE_MAX=40,n})();class Z{constructor(a,e,i,o,r){this.position=a,this.player_role=e,this.player_name=i,this._UUID=o||ot(),r&&(this._shape=r)}get UUID(){return this._UUID}get shape(){return this._shape}static fromDto(a,e){const i=new Z(new A(a.p),a.pr,a.pn,a.u),o=class Dt{static fromDto(a,e,i){const o=new Map(e.f);switch(a.player_role){case f.Setter:return new at(a,i,o);case f.MiddleBlocker:case f.Libero:return new q(a,i,!1,o);case f.OutsideHitter:return new P(a,i,!1,o);case f.OppositeHitter:return new P(a,i,!0,o)}}}.fromDto(i,a.s,e);return i.setShape(o),i}toDto(){return{pn:this.player_name,pr:this.player_role,p:this.position.value,u:this.UUID,s:this.shape.toDto()}}setShape(a){this._shape=a}draw(){this.shape.draw()}toString(){return this.player_name?`${this.player_name} (${this.position.value}) - ${this.player_role.toString()}`:`Unnamed actor (${this.position.value}) - ${this.player_role.toString()}`}}var t=l(5e3),U=l(9776),R=l(7429),u=l(508),Q=l(226),b=l(7579),wt=l(9770),rt=l(9646),k=l(9300),L=l(5698),X=l(8675),G=l(925),x=l(9808),h=l(1777),T=l(8255),Y=l(1159),W=l(6360);function At(n,a){}class ${constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Mt={dialogContainer:(0,h.X$)("dialogContainer",[(0,h.SB)("void, exit",(0,h.oB)({opacity:0,transform:"scale(0.7)"})),(0,h.SB)("enter",(0,h.oB)({transform:"none"})),(0,h.eR)("* => enter",(0,h.ru)([(0,h.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,h.oB)({transform:"none",opacity:1})),(0,h.IO)("@*",(0,h.pV)(),{optional:!0})])),(0,h.eR)("* => void, * => exit",(0,h.ru)([(0,h.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,h.oB)({opacity:0})),(0,h.IO)("@*",(0,h.pV)(),{optional:!0})]))])};let Rt=(()=>{class n extends R.en{constructor(e,i,o,r,s,p,m,g){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=o,this._config=s,this._interactivityChecker=p,this._ngZone=m,this._focusMonitor=g,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(d)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,G.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=(0,G.ht)(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,G.ht)();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(T.qV),t.Y36(t.sBO),t.Y36(x.K0,8),t.Y36($),t.Y36(T.ic),t.Y36(t.R0b),t.Y36(T.tE))},n.\u0275dir=t.lG2({type:n,viewQuery:function(e,i){if(1&e&&t.Gf(R.Pl,7),2&e){let o;t.iGM(o=t.CRH())&&(i._portalOutlet=o.first)}},features:[t.qOj]}),n})(),Tt=(()=>{class n extends Rt{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&t.WFA("@dialogContainer.start",function(r){return i._onAnimationStart(r)})("@dialogContainer.done",function(r){return i._onAnimationDone(r)}),2&e&&(t.Ikx("id",i._id),t.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),t.d8E("@dialogContainer",i._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&t.YNc(0,At,0,0,"ng-template",0)},directives:[R.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Mt.dialogContainer]}}),n})(),Ot=0;class M{constructor(a,e,i="mat-dialog-"+Ot++){this._overlayRef=a,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new b.x,this._afterClosed=new b.x,this._beforeClosed=new b.x,this._state=0,e._id=i,e._animationStateChanged.pipe((0,k.h)(o=>"opened"===o.state),(0,L.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,k.h)(o=>"closed"===o.state),(0,L.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),a.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),a.keydownEvents().pipe((0,k.h)(o=>o.keyCode===Y.hY&&!this.disableClose&&!(0,Y.Vb)(o))).subscribe(o=>{o.preventDefault(),st(this,"keyboard")}),a.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():st(this,"mouse")})}close(a){this._result=a,this._containerInstance._animationStateChanged.pipe((0,k.h)(e=>"closing"===e.state),(0,L.q)(1)).subscribe(e=>{this._beforeClosed.next(a),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(a){let e=this._getPositionStrategy();return a&&(a.left||a.right)?a.left?e.left(a.left):e.right(a.right):e.centerHorizontally(),a&&(a.top||a.bottom)?a.top?e.top(a.top):e.bottom(a.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(a="",e=""){return this._overlayRef.updateSize({width:a,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(a){return this._overlayRef.addPanelClass(a),this}removePanelClass(a){return this._overlayRef.removePanelClass(a),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function st(n,a,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=a),n.close(e)}const K=new t.OlP("MatDialogData"),St=new t.OlP("mat-dialog-default-options"),ct=new t.OlP("mat-dialog-scroll-strategy"),It={provide:ct,deps:[U.aV],useFactory:function Et(n){return()=>n.scrollStrategies.block()}};let Ft=(()=>{class n{constructor(e,i,o,r,s,p,m,g,d,y){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=r,this._overlayContainer=s,this._dialogRefConstructor=m,this._dialogContainerType=g,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.x,this._afterOpenedAtThisLevel=new b.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,wt.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.O)(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function Zt(n,a){return Object.assign(Object.assign({},a),n)}(i,this._defaultOptions||new $),i.id&&this.getDialogById(i.id);const o=this._createOverlay(i),r=this._attachDialogContainer(o,i),s=this._attachDialogContent(e,r,o,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),r._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new U.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const r=t.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:$,useValue:i}]}),s=new R.C5(this._dialogContainerType,i.viewContainerRef,r,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,o,r){const s=new this._dialogRefConstructor(o,i,r.id);if(e instanceof t.Rgc)i.attachTemplatePortal(new R.UE(e,null,{$implicit:r.data,dialogRef:s}));else{const p=this._createInjector(r,s,i),m=i.attachComponentPortal(new R.C5(e,r.viewContainerRef,p,r.componentFactoryResolver));s.componentInstance=m.instance}return s.updateSize(r.width,r.height).updatePosition(r.position),s}_createInjector(e,i,o){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!r||!r.get(Q.Is,null,t.XFs.Optional))&&s.push({provide:Q.Is,useValue:{value:e.direction,change:(0,rt.of)()}}),t.zs3.create({parent:r||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,r)=>{o?r.setAttribute("aria-hidden",o):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let r=i[o];r!==e&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275dir=t.lG2({type:n}),n})(),tt=(()=>{class n extends Ft{constructor(e,i,o,r,s,p,m,g){super(e,i,r,p,m,s,M,Tt,K,g)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.aV),t.LFG(t.zs3),t.LFG(x.Ye,8),t.LFG(St,8),t.LFG(ct),t.LFG(n,12),t.LFG(U.Xj),t.LFG(W.Qb,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ut=0,E=(()=>{class n{constructor(e,i,o){this._dialogRef=e,this._elementRef=i,this._dialog=o,this.id="mat-dialog-title-"+Ut++}ngOnInit(){this._dialogRef||(this._dialogRef=function Lt(n,a){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?a.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M,8),t.Y36(t.SBq),t.Y36(tt))},n.\u0275dir=t.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&t.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[tt,It],imports:[[U.U8,R.eL,u.BQ],u.BQ]}),n})();var _=l(7322),J=l(7531),B=l(4107),O=l(7423);let Pt=(()=>{class n{constructor(e,i){this.fb=e,this.dialogRef=i,this.PlayerRole=f}onSubmit(){this.dialogRef.close(new Z(new A(this.formGroup.value.position),this.formGroup.value.player_role,this.formGroup.value.player_name))}ngOnInit(){this.formGroup=this.fb.group({player_name:[null],position:[null,c.kI.required],player_role:[null,c.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-add-actor-dialog"]],decls:50,vars:43,consts:[["mat-dialog-title",""],[3,"formGroup","submit"],["appearance","fill","tabindex","-1"],["matInput","","formControlName","player_name"],["appearance","fill"],["formControlName","position"],[3,"value"],["formControlName","player_role"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content",1),t.NdJ("submit",function(){return i.onSubmit()}),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"mat-select",5)(15,"mat-option",6),t._uU(16,"1"),t.qZA(),t.TgZ(17,"mat-option",6),t._uU(18,"2"),t.qZA(),t.TgZ(19,"mat-option",6),t._uU(20,"3"),t.qZA(),t.TgZ(21,"mat-option",6),t._uU(22,"4"),t.qZA(),t.TgZ(23,"mat-option",6),t._uU(24,"5"),t.qZA(),t.TgZ(25,"mat-option",6),t._uU(26,"6"),t.qZA()()(),t.TgZ(27,"mat-form-field",4)(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"mat-select",7)(32,"mat-option",6),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"mat-option",6),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"mat-option",6),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"mat-option",6),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"mat-option",6),t._uU(45),t.ALo(46,"translate"),t.qZA()()(),t.TgZ(47,"button",8),t._uU(48),t.ALo(49,"translate"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,23,"add_actor_dialog.title")),t.xp6(2),t.Q6J("formGroup",i.formGroup),t.xp6(4),t.Oqu(t.lcZ(8,25,"add_actor_dialog.placeholder.player_name")),t.xp6(5),t.Oqu(t.lcZ(13,27,"add_actor_dialog.placeholder.position")),t.xp6(3),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("value",5),t.xp6(2),t.Q6J("value",6),t.xp6(4),t.Oqu(t.lcZ(30,29,"add_actor_dialog.placeholder.player_role")),t.xp6(3),t.Q6J("value",i.PlayerRole.Setter),t.xp6(1),t.Oqu(t.lcZ(34,31,"add_actor_dialog.player_roles.setter")),t.xp6(2),t.Q6J("value",i.PlayerRole.MiddleBlocker),t.xp6(1),t.Oqu(t.lcZ(37,33,"add_actor_dialog.player_roles.middle_blocker")),t.xp6(2),t.Q6J("value",i.PlayerRole.Libero),t.xp6(1),t.Oqu(t.lcZ(40,35,"add_actor_dialog.player_roles.libero")),t.xp6(2),t.Q6J("value",i.PlayerRole.OutsideHitter),t.xp6(1),t.Oqu(t.lcZ(43,37,"add_actor_dialog.player_roles.outside_hitter")),t.xp6(2),t.Q6J("value",i.PlayerRole.OppositeHitter),t.xp6(1),t.Oqu(t.lcZ(46,39,"add_actor_dialog.player_roles.opposite_hitter")),t.xp6(2),t.Q6J("disabled",i.formGroup.invalid),t.xp6(1),t.hij(" ",t.lcZ(49,41,"add_actor_dialog.submit")," "))},directives:[E,I,c.JL,c.sg,c._Y,_.KE,_.hX,J.Nt,c.Fj,c.JJ,c.u,B.gD,u.ey,O.lW],pipes:[w.X$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();function qt(n,a){if(1&n&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.UUID),t.xp6(1),t.Oqu(e.toString())}}let Gt=(()=>{class n{constructor(e,i,o){this.fb=e,this.dialogRef=i,this.data=o}onSubmit(){this.dialogRef.close(this.formGroup.value.actor)}ngOnInit(){this.formGroup=this.fb.group({actor:[null,c.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(M),t.Y36(K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-delete-actor-dialog"]],decls:14,vars:12,consts:[["mat-dialog-title",""],[3,"formGroup","submit"],["appearance","fill"],["formControlName","actor"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content",1),t.NdJ("submit",function(){return i.onSubmit()}),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-select",3),t.YNc(10,qt,2,2,"mat-option",4),t.qZA()(),t.TgZ(11,"button",5),t._uU(12),t.ALo(13,"translate"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"delete_actor_dialog.title")),t.xp6(2),t.Q6J("formGroup",i.formGroup),t.xp6(4),t.Oqu(t.lcZ(8,8,"delete_actor_dialog.placeholder.actor")),t.xp6(3),t.Q6J("ngForOf",i.data.actors),t.xp6(1),t.Q6J("disabled",i.formGroup.invalid),t.xp6(1),t.hij(" ",t.lcZ(13,10,"delete_actor_dialog.submit")," "))},directives:[E,I,c.JL,c.sg,c._Y,_.KE,_.hX,B.gD,c.JJ,c.u,x.sg,u.ey,O.lW],pipes:[w.X$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();class S{constructor(a,e,i){this.rotation=a,this.name=e,this._UUID=i||ot()}get UUID(){return this._UUID}static fromDto(a){const e=new A(a.r);return new S(e,a.n,a.u)}toDto(){return{n:this.name,r:this.rotation.value,u:this.UUID}}toString(){return this.name?`${this.name} (${this.rotation.value})`:`Unknown rotation (${this.rotation.value})`}}function Yt(n,a){if(1&n&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.UUID),t.xp6(1),t.Oqu(e.toString())}}let Jt=(()=>{class n{constructor(e,i,o){this.fb=e,this.dialogRef=i,this.data=o}onSubmit(){this.dialogRef.close(this.formGroup.value.rotation)}ngOnInit(){this.formGroup=this.fb.group({rotation:[null,c.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(M),t.Y36(K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-delete-rotation-dialog"]],decls:14,vars:12,consts:[["mat-dialog-title",""],[3,"formGroup","submit"],["appearance","fill"],["formControlName","rotation"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content",1),t.NdJ("submit",function(){return i.onSubmit()}),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-select",3),t.YNc(10,Yt,2,2,"mat-option",4),t.qZA()(),t.TgZ(11,"button",5),t._uU(12),t.ALo(13,"translate"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"delete_rotation_dialog.title")),t.xp6(2),t.Q6J("formGroup",i.formGroup),t.xp6(4),t.Oqu(t.lcZ(8,8,"delete_rotation_dialog.placeholder.rotation")),t.xp6(3),t.Q6J("ngForOf",i.data.rotations),t.xp6(1),t.Q6J("disabled",i.formGroup.invalid),t.xp6(1),t.hij(" ",t.lcZ(13,10,"delete_rotation_dialog.submit")," "))},directives:[E,I,c.JL,c.sg,c._Y,_.KE,_.hX,B.gD,c.JJ,c.u,x.sg,u.ey,O.lW],pipes:[w.X$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),Nt=(()=>{class n{constructor(e,i){this.fb=e,this.dialogRef=i}onSubmit(){this.dialogRef.close(new S(new A(this.formGroup.value.current_rotation),this.formGroup.value.rotation_name))}ngOnInit(){this.formGroup=this.fb.group({rotation_name:null,current_rotation:[1,c.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-add-rotation-dialog"]],decls:30,vars:20,consts:[["mat-dialog-title",""],[3,"formGroup","submit"],["appearance","fill","tabindex","-1"],["matInput","","formControlName","rotation_name"],["appearance","fill"],["formControlName","current_rotation"],[3,"value"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content",1),t.NdJ("submit",function(){return i.onSubmit()}),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"mat-select",5)(15,"mat-option",6),t._uU(16,"1"),t.qZA(),t.TgZ(17,"mat-option",6),t._uU(18,"2"),t.qZA(),t.TgZ(19,"mat-option",6),t._uU(20,"3"),t.qZA(),t.TgZ(21,"mat-option",6),t._uU(22,"4"),t.qZA(),t.TgZ(23,"mat-option",6),t._uU(24,"5"),t.qZA(),t.TgZ(25,"mat-option",6),t._uU(26,"6"),t.qZA()()(),t.TgZ(27,"button",7),t._uU(28),t.ALo(29,"translate"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,12,"add_rotation_dialog.title")),t.xp6(2),t.Q6J("formGroup",i.formGroup),t.xp6(4),t.Oqu(t.lcZ(8,14,"add_rotation_dialog.placeholder.rotation_name")),t.xp6(5),t.Oqu(t.lcZ(13,16,"add_rotation_dialog.placeholder.current_rotation")),t.xp6(3),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("value",5),t.xp6(2),t.Q6J("value",6),t.xp6(2),t.Q6J("disabled",i.formGroup.invalid),t.xp6(1),t.hij(" ",t.lcZ(29,18,"add_rotation_dialog.submit")," "))},directives:[E,I,c.JL,c.sg,c._Y,_.KE,_.hX,J.Nt,c.Fj,c.JJ,c.u,B.gD,u.ey,O.lW],pipes:[w.X$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();class F{static store(a,e){const i=JSON.stringify(e);window.localStorage.setItem(a,i)}static retrieve(a){const e=window.localStorage.getItem(a);if(e)return JSON.parse(e)}static remove(a){window.localStorage.removeItem(a)}}var lt=l(4968),dt=l(520),N=l(4004);let ht=(()=>{class n{constructor(e){this.http=e,this.headers=new dt.WM({"Content-Type":"application/json",Authorization:"Bearer GMTjuO1F77wSxW1mLH19TTQr2kHLLZVAohLge90rnA8v0StURQVoYuAOKsmc"})}shorten(e){return this.http.post("https://api.tinyurl.com/create",{url:e,domain:"tinyurl.com"},{headers:this.headers,responseType:"json"}).pipe((0,N.U)(i=>i.data.tiny_url))}resolve(e){if(!e.includes("tinyurl.com"))return(0,rt.of)();const i=e.split("tinyurl.com/")[1];return this.http.get(`https://api.tinyurl.com/alias/tinyurl.com/${i}`,{headers:this.headers,responseType:"json"}).pipe((0,N.U)(o=>o.data.url))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(dt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zt=(()=>{class n{constructor(e,i,o){this.fb=e,this.dialogRef=i,this.tinyUrl=o}onSubmit(){this.dialogRef.close(),window.navigator.clipboard.writeText(this.formGroup.value.copy_link)}ngOnInit(){this.formGroup=this.fb.group({copy_link:[{value:null,disabled:!1},c.kI.required]}),this.tinyUrl.shorten(window.location.href).subscribe(e=>this.formGroup.patchValue({copy_link:e}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(M),t.Y36(ht))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-export-actor-dialog"]],decls:13,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup","submit"],["appearance","fill","tabindex","-1"],["matInput","","formControlName","copy_link"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content",1),t.NdJ("submit",function(){return i.onSubmit()}),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"button",4),t._uU(11),t.ALo(12,"translate"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,5,"export_dialog.title")),t.xp6(2),t.Q6J("formGroup",i.formGroup),t.xp6(4),t.Oqu(t.lcZ(8,7,"export_dialog.placeholder.copy_link")),t.xp6(3),t.Q6J("disabled",i.formGroup.invalid),t.xp6(1),t.hij(" ",t.lcZ(12,9,"export_dialog.submit")," "))},directives:[E,I,c.JL,c.sg,c._Y,_.KE,_.hX,J.Nt,c.Fj,c.JJ,c.u,O.lW],pipes:[w.X$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),Vt=(()=>{class n{constructor(e,i,o){this.fb=e,this.dialogRef=i,this.tinyUrl=o}onSubmit(){const e=this.formGroup.value.resolved_url.split("?")[1];this.dialogRef.close(new URLSearchParams(e))}ngOnInit(){this.formGroup=this.fb.group({link:[null,c.kI.required],resolved_url:[null,c.kI.required]}),this.formGroup.controls.link.valueChanges.subscribe(e=>{this.tinyUrl.resolve(e).subscribe(i=>this.formGroup.controls.resolved_url.setValue(i))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(M),t.Y36(ht))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-import-actor-dialog"]],decls:14,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup","submit"],["appearance","fill","tabindex","-1"],["matInput","","formControlName","link"],["formControlName","resolved_url",2,"display","none"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content",1),t.NdJ("submit",function(){return i.onSubmit()}),t.TgZ(4,"form")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t._UZ(10,"input",4),t.TgZ(11,"button",5),t._uU(12),t.ALo(13,"translate"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,5,"import_dialog.title")),t.xp6(2),t.Q6J("formGroup",i.formGroup),t.xp6(4),t.Oqu(t.lcZ(8,7,"import_dialog.placeholder.link")),t.xp6(4),t.Q6J("disabled",i.formGroup.invalid),t.xp6(1),t.hij(" ",t.lcZ(13,9,"import_dialog.submit")," "))},directives:[E,I,c.JL,c.sg,c._Y,_.KE,_.hX,J.Nt,c.Fj,c.JJ,c.u,O.lW],pipes:[w.X$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();var C=l(8962),v=l(3191),jt=l(6451),mt=l(9718),D=l(2722),Ht=l(1884),Qt=l(8372);const z=["*"],Xt=["content"];function Wt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw()._onBackdropClicked()}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function $t(n,a){1&n&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const Kt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],te=["mat-drawer","mat-drawer-content","*"];function ee(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw()._onBackdropClicked()}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function ie(n,a){1&n&&(t.TgZ(0,"mat-sidenav-content"),t.Hsn(1,2),t.qZA())}const ne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],oe=["mat-sidenav","mat-sidenav-content","*"],ut={transformDrawer:(0,h.X$)("transform",[(0,h.SB)("open, open-instant",(0,h.oB)({transform:"none",visibility:"visible"})),(0,h.SB)("void",(0,h.oB)({"box-shadow":"none",visibility:"hidden"})),(0,h.eR)("void => open-instant",(0,h.jt)("0ms")),(0,h.eR)("void <=> open, open-instant => void",(0,h.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},re=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function se(){return!1}}),et=new t.OlP("MAT_DRAWER_CONTAINER");let V=(()=>{class n extends C.PQ{constructor(e,i,o,r,s){super(o,r,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>ft)),t.Y36(t.SBq),t.Y36(C.mF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&t.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[t._Bn([{provide:C.PQ,useExisting:n}]),t.qOj],ngContentSelectors:z,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),pt=(()=>{class n{constructor(e,i,o,r,s,p,m,g){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=o,this._platform=r,this._ngZone=s,this._interactivityChecker=p,this._doc=m,this._container=g,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new b.x,this._animationEnd=new b.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,k.h)(d=>d),(0,N.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,k.h)(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),(0,mt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,k.h)(d=>!d),(0,N.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,k.h)(d=>d.fromState!==d.toState&&"void"===d.toState),(0,mt.h)(void 0)),this._destroyed=new b.x,this.onPositionChanged=new t.vpe,this._modeChanged=new b.x,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,lt.R)(this._elementRef.nativeElement,"keydown").pipe((0,k.h)(d=>d.keyCode===Y.hY&&!this.disableClose&&!(0,Y.Vb)(d)),(0,D.R)(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe((0,Ht.x)((d,y)=>d.fromState===y.fromState&&d.toState===y.toState)).subscribe(d=>{const{fromState:y,toState:Ct}=d;(0===Ct.indexOf("open")&&"void"===y||"void"===Ct&&0===y.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,v.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,v.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,v.Ig)(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,i,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe((0,L.q)(1)).subscribe(s=>r(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,o=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(T.qV),t.Y36(T.tE),t.Y36(G.t4),t.Y36(t.R0b),t.Y36(T.ic),t.Y36(x.K0,8),t.Y36(et,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&t.Gf(Xt,5),2&e){let o;t.iGM(o=t.CRH())&&(i._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&t.WFA("@transform.start",function(r){return i._animationStarted.next(r)})("@transform.done",function(r){return i._animationEnd.next(r)}),2&e&&(t.uIk("align",null),t.d8E("@transform",i._animationState),t.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:z,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},directives:[C.PQ],encapsulation:2,data:{animation:[ut.transformDrawer]},changeDetection:0}),n})(),ft=(()=>{class n{constructor(e,i,o,r,s,p=!1,m){this._dir=e,this._element=i,this._ngZone=o,this._changeDetectorRef=r,this._animationMode=m,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new b.x,this._doCheckSubject=new b.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new b.x,e&&e.change.pipe((0,D.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe((0,D.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,v.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,v.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,X.O)(this._allDrawers),(0,D.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,X.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Qt.b)(10),(0,D.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,i-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();i+=o,e-=o}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,k.h)(i=>i.fromState!==i.toState),(0,D.R)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,D.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,D.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,L.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,D.R)((0,jt.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(C.rL),t.Y36(re),t.Y36(W.Qb,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,V,5),t.Suo(o,pt,5)),2&e){let r;t.iGM(r=t.CRH())&&(i._content=r.first),t.iGM(r=t.CRH())&&(i._allDrawers=r)}},viewQuery:function(e,i){if(1&e&&t.Gf(V,5),2&e){let o;t.iGM(o=t.CRH())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:et,useExisting:n}])],ngContentSelectors:te,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(t.F$t(Kt),t.YNc(0,Wt,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,$t,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",i.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!i._content))},directives:[V,x.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),it=(()=>{class n extends V{constructor(e,i,o,r,s){super(e,i,o,r,s)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>_t)),t.Y36(t.SBq),t.Y36(C.mF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&t.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[t._Bn([{provide:C.PQ,useExisting:n}]),t.qOj],ngContentSelectors:z,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),gt=(()=>{class n extends pt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,v.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,v.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,v.su)(e)}}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(t.uIk("align",null),t.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),t.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[t.qOj],ngContentSelectors:z,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},directives:[C.PQ],encapsulation:2,data:{animation:[ut.transformDrawer]},changeDetection:0}),n})(),_t=(()=>{class n extends ft{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,it,5),t.Suo(o,gt,5)),2&e){let r;t.iGM(r=t.CRH())&&(i._content=r.first),t.iGM(r=t.CRH())&&(i._allDrawers=r)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[t._Bn([{provide:et,useExisting:n}]),t.qOj],ngContentSelectors:oe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(t.F$t(ne),t.YNc(0,ee,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,ie,2,0,"mat-sidenav-content",1)),2&e&&(t.Q6J("ngIf",i.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!i._content))},directives:[it,x.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[x.ez,u.BQ,C.ZD],C.ZD,u.BQ]}),n})();var le=l(5245);const de=["field"];function he(n,a){if(1&n&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.UUID),t.xp6(1),t.Oqu(e.toString())}}const me=[{path:"",component:(()=>{class n{constructor(e,i,o){this.router=e,this.formBuilder=i,this.matDialog=o,this.actors=[],this.rotations=[],this.currentRotationIndex=0,this.formGroup=this.formBuilder.group({current_rotation:[null,c.kI.required]})}get rotation(){return this.rotations[this.currentRotationIndex]}ngAfterViewInit(){this.context=this.fieldElement.nativeElement.getContext("2d"),this.context.canvas.width=this.context.canvas.getBoundingClientRect().width,this.context.canvas.height=this.context.canvas.getBoundingClientRect().height;for(const e of[["touchstart","mousedown"],["touchmove","mousemove"]])this.context.canvas.addEventListener(e[0],i=>{const o=i.touches[0];this.fieldElement.nativeElement.dispatchEvent(new MouseEvent(e[1],{clientX:o.clientX,clientY:o.clientY}))});this.context.canvas.addEventListener("touchend",()=>this.onMouseUp()),this.context.canvas.addEventListener("touchcancel",()=>this.onMouseUp()),this.fieldElement.nativeElement.addEventListener("mousedown",e=>this.onMouseDown(e)),this.fieldElement.nativeElement.addEventListener("mouseup",()=>this.onMouseUp()),this.fieldElement.nativeElement.addEventListener("mouseleave",()=>this.onMouseUp()),this.fieldElement.nativeElement.addEventListener("mousemove",e=>this.onMouseMove(e)),setTimeout(()=>{const e=new URLSearchParams(window.location.search);if(e&&e.get("cr")&&e.get("a")&&e.get("r0"))this.importLink(e);else{const i=F.retrieve(n.LOCAL_STORAGE_KEY_ROTATIONS),o=F.retrieve(n.LOCAL_STORAGE_KEY_ACTORS),r=F.retrieve(n.LOCAL_STORAGE_KEY_CURRENT_ROTATION);i&&o&&r?(this.actors=o.map(s=>Z.fromDto(s,this.context)),this.rotations=i.map(s=>S.fromDto(s)),this.currentRotationIndex=this.rotations.findIndex(s=>s.UUID===r),this.actors.forEach(s=>s.shape.setRotationProperties(this.rotation.UUID,this.rotation.rotation))):this.rotations=[new S(new A(1),"Default rotation")]}this.formGroup.patchValue({current_rotation:this.rotation.UUID}),this.formGroup.valueChanges.subscribe(i=>this.onRotationChanged(i.current_rotation)),this.render()},100),(0,lt.R)(window,"resize").subscribe(()=>this.fixRenderDimensions())}fixRenderDimensions(){this.context.canvas.width=this.context.canvas.getBoundingClientRect().width,this.context.canvas.height=this.context.canvas.getBoundingClientRect().height,this.render()}onRotationChanged(e){this.currentRotationIndex=this.rotations.findIndex(i=>i.UUID===e),this.actors.forEach(i=>i.shape.setRotationProperties(this.rotation.UUID,this.rotation.rotation)),this.render()}onMouseDown(e){const i=e.clientX,o=e.clientY;for(let r=this.actors.length-1;r>=0;--r){const s=this.actors[r].shape;if(s.isHit(i,o))return void(this.draggedShape=s)}}onMouseUp(){this.draggedShape=void 0}onMouseMove(e){this.draggedShape&&(this.draggedShape.setPosition(e.clientX,e.clientY),this.render())}onAddActorClicked(){this.matDialog.open(Pt,{autoFocus:!1}).afterClosed().subscribe(i=>{if(i){switch(i.player_role){case f.Setter:this.addShape(i,new at(i,this.context));break;case f.MiddleBlocker:this.addShape(i,new q(i,this.context,!1));break;case f.Libero:this.addShape(i,new q(i,this.context,!0));break;case f.OutsideHitter:this.addShape(i,new P(i,this.context,!1));break;case f.OppositeHitter:this.addShape(i,new P(i,this.context,!0))}this.render()}})}addShape(e,i){i.setRotationProperties(this.rotation.UUID,this.rotation.rotation),e.setShape(i),this.actors.push(e)}onDeleteActorClicked(){this.matDialog.open(Gt,{data:{actors:this.actors},autoFocus:!1}).afterClosed().subscribe(i=>{if(!i)return;const o=this.actors.findIndex(r=>r.UUID===i);this.actors.splice(o,1),this.render()})}onDeleteRotationClicked(){this.matDialog.open(Jt,{data:{rotations:this.rotations},autoFocus:!1}).afterClosed().subscribe(i=>{if(!i)return;const o=this.rotation.UUID,r=this.rotations.findIndex(s=>s.UUID===i);this.rotations.splice(r,1),this.actors.forEach(s=>s.shape.removeRotation(i)),o===i&&(0===this.rotations.length&&this.rotations.push(new S(new A(1),"Default rotation")),this.currentRotationIndex=0,this.formGroup.patchValue({current_rotation:this.rotation.UUID}),this.actors.forEach(s=>s.shape.setRotationProperties(this.rotation.UUID,this.rotation.rotation))),this.render()})}onAddRotationClicked(){this.matDialog.open(Nt,{autoFocus:!1}).afterClosed().subscribe(i=>{!i||(this.actors.forEach(o=>o.shape.setRotationProperties(this.rotation.UUID,this.rotation.rotation)),this.rotations.push(i),this.currentRotationIndex=this.rotations.length-1,this.formGroup.patchValue({current_rotation:i.UUID}),this.render())})}onExportClicked(){this.matDialog.open(zt,{autoFocus:!1})}onImportClicked(){this.matDialog.open(Vt,{autoFocus:!1}).afterClosed().subscribe(i=>this.importLink(i))}importLink(e){if(!(e&&e.get("cr")&&e.get("a")&&e.get("r0")))return;this.actors=JSON.parse(atob(e.get("a"))).map(s=>Z.fromDto(s,this.context));const i=[];let o=0;for(;e.get("r"+o);)i.push(S.fromDto(JSON.parse(atob(e.get("r"+o))),this.context)),++o;this.rotations=i;const r=e.get("cr");this.currentRotationIndex=this.rotations.findIndex(s=>s.UUID===r),this.formGroup.patchValue({current_rotation:this.rotation.UUID}),this.actors.forEach(s=>s.shape.setRotationProperties(this.rotation.UUID,this.rotation.rotation)),this.render()}render(){this.initCourt(),this.actors.forEach(e=>e.draw()),F.store(n.LOCAL_STORAGE_KEY_ROTATIONS,this.rotations.map(e=>e.toDto())),F.store(n.LOCAL_STORAGE_KEY_CURRENT_ROTATION,this.rotation.UUID),F.store(n.LOCAL_STORAGE_KEY_ACTORS,this.actors.map(e=>e.toDto())),this.router.navigate(["/"],{queryParams:Object.assign({cr:this.rotation.UUID,a:btoa(JSON.stringify(this.actors.map(e=>e.toDto())))},Object.fromEntries(this.rotations.reduce((e,i)=>(e.set("r"+e.size,btoa(JSON.stringify(i.toDto()))),e),new Map))),replaceUrl:!0})}initCourt(){const e=this.context.canvas.getBoundingClientRect().width,i=this.context.canvas.getBoundingClientRect().height;this.context.clearRect(0,0,e,i),this.context.fillStyle=n.OUTER_COLOR,this.context.fillRect(0,0,e,i);const o=.025*e,s=(i-.025*i)/10,p=(e-2*o)/9,m=o,g=e-2*o;this.context.fillStyle=n.FRONT_FIELD_COLOR,this.context.fillRect(m,0,g,4*s),this.context.fillStyle=n.BACK_FIELD_COLOR,this.context.fillRect(m,4*s,g,6*s);const d=s/20,y=p/20;this.context.fillStyle=n.LINE_COLOR,this.context.fillRect(m,0,y,10*s),this.context.fillRect(g+m-y,0,y,10*s),this.context.fillRect(m,4*s,g,d),this.context.fillRect(m,10*s,g,d),this.context.fillRect(m,1*s-3*d,g,3*d)}}return n.OUTER_COLOR="#469ABB",n.LINE_COLOR="#FFFFFF",n.FRONT_FIELD_COLOR="#FF5202",n.BACK_FIELD_COLOR="#F8A941",n.LOCAL_STORAGE_KEY_ACTORS="actors_storage",n.LOCAL_STORAGE_KEY_ROTATIONS="rotations_storage",n.LOCAL_STORAGE_KEY_CURRENT_ROTATION="current_rotation_uuid",n.\u0275fac=function(e){return new(e||n)(t.Y36(j.F0),t.Y36(c.qu),t.Y36(tt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["vpms-field"]],viewQuery:function(e,i){if(1&e&&t.Gf(de,5),2&e){let o;t.iGM(o=t.CRH())&&(i.fieldElement=o.first)}},decls:42,vars:22,consts:[["mode","over"],["sidenav",""],[3,"formGroup"],["formControlName","current_rotation"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],["mat-flat-button","",1,"toggle_sidenav",3,"click"],["field",""],[3,"value"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav",0,1)(3,"mat-form-field",2)(4,"mat-select",3),t.YNc(5,he,2,2,"mat-option",4),t.qZA()(),t.TgZ(6,"button",5),t.NdJ("click",function(){return i.onAddRotationClicked()}),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA(),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return i.onDeleteRotationClicked()}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",5),t.NdJ("click",function(){return i.onAddActorClicked()}),t.TgZ(17,"mat-icon"),t._uU(18,"add"),t.qZA(),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",5),t.NdJ("click",function(){return i.onDeleteActorClicked()}),t.TgZ(22,"mat-icon"),t._uU(23,"delete"),t.qZA(),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"button",5),t.NdJ("click",function(){return i.onExportClicked()}),t.TgZ(27,"mat-icon"),t._uU(28,"share"),t.qZA(),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"button",5),t.NdJ("click",function(){return i.onImportClicked()}),t.TgZ(32,"mat-icon"),t._uU(33,"import_export"),t.qZA(),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"mat-sidenav-content")(37,"button",6),t.NdJ("click",function(){return t.CHM(o),t.MAs(2).toggle()}),t.TgZ(38,"mat-icon"),t._uU(39,"arrow_right"),t.qZA()(),t._UZ(40,"canvas",null,7),t.qZA()()}if(2&e){const o=t.MAs(2);t.xp6(3),t.Q6J("formGroup",i.formGroup),t.xp6(2),t.Q6J("ngForOf",i.rotations),t.xp6(4),t.hij(" ",t.lcZ(10,10,"field.add_rotation")," "),t.xp6(5),t.hij(" ",t.lcZ(15,12,"field.delete_rotation")," "),t.xp6(5),t.hij(" ",t.lcZ(20,14,"field.add_actor")," "),t.xp6(5),t.hij(" ",t.lcZ(25,16,"field.delete_actor")," "),t.xp6(5),t.hij(" ",t.lcZ(30,18,"field.export")," "),t.xp6(5),t.hij(" ",t.lcZ(35,20,"field.import")," "),t.xp6(3),t.ekj("is_opened",o.opened)}},directives:[_t,gt,_.KE,c.JL,c.sg,B.gD,c.JJ,c.u,x.sg,u.ey,O.lW,le.Hw,it],pipes:[w.X$],styles:["[_ngcontent-%COMP%]:root{--vpms-primary-palette-50: #DAE8F3;--vpms-primary-palette-100: #9DC1DF;--vpms-primary-palette-200: #80AED5;--vpms-primary-palette-300: #609ACA;--vpms-primary-palette-400: #2F7BBA;--vpms-primary-palette-500: #0A64AE;--vpms-primary-palette-600: #095A9D;--vpms-primary-palette-700: #063C68;--vpms-primary-palette-800: #042846;--vpms-primary-palette-900: #021423;--vpms-accent-palette-50: #FEF2F8;--vpms-accent-palette-100: #F8BFDF;--vpms-accent-palette-200: #F599CB;--vpms-accent-palette-300: #EF66B1;--vpms-accent-palette-400: #EA3397;--vpms-accent-palette-500: #E5007D;--vpms-accent-palette-600: #CE0071;--vpms-accent-palette-700: #AC005E;--vpms-accent-palette-800: #7E0045;--vpms-accent-palette-900: #50002C;--vpms-grayscale-0: #FFFFFF;--vpms-grayscale-50: #FAFAFA;--vpms-grayscale-100: #F2F2F2;--vpms-grayscale-200: #E6E6E6;--vpms-grayscale-250: #DADAD9;--vpms-grayscale-300: #CCCCCC;--vpms-grayscale-400: #B3B3B3;--vpms-grayscale-500: #999999;--vpms-grayscale-600: #808080;--vpms-grayscale-700: #666666;--vpms-grayscale-800: #4D4D4D;--vpms-grayscale-900: #333333;--vpms-grayscale-1000: #000000}[_nghost-%COMP%]{display:block;height:100%}mat-sidenav-container[_ngcontent-%COMP%]{height:100%}mat-sidenav[_ngcontent-%COMP%]{width:15rem;padding:1rem}mat-sidenav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:3rem;text-align:left;margin-bottom:.5rem}mat-sidenav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0a64ae}mat-sidenav[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.toggle_sidenav[_ngcontent-%COMP%]{position:absolute;top:3rem;left:-1rem;z-index:20;transform:rotate(90deg)}.toggle_sidenav.is_opened[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.toggle_sidenav[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}canvas[_ngcontent-%COMP%]{display:block;height:100%;width:100%;touch-action:none}"]}),n})()}];let ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[j.Bz.forChild(me)],j.Bz]}),n})();var bt=l(7144);let xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),we=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.si,u.BQ,bt.Q8,xt],u.BQ,xt]}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ue,yt.m,w.aw,Bt,c.UX,x.ez,we,ce]]}),n})()}}]);